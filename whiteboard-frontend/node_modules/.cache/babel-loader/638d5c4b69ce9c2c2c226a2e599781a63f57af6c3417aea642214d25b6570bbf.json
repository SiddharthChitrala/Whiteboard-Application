{"ast":null,"code":"var _jsxFileName = \"D:\\\\full stack mern,mean,java\\\\Whiteboard Application\\\\whiteboard-frontend\\\\src\\\\pages\\\\canvas\\\\WhiteboardRoom.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from \"react\";\nimport rough from \"roughjs/bundled/rough.esm\";\nimport getStroke from \"perfect-freehand\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst WhiteboardRoom = () => {\n  _s();\n  const canvasRef = useRef(null);\n  const [elements, setElements] = useState([]);\n  const [tool, setTool] = useState(\"pencil\");\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    const context = canvas.getContext(\"2d\");\n    const generator = rough.generator();\n    const roughCanvas = rough.canvas(canvas);\n    const handleMouseDown = event => {\n      if (!canvas) return;\n      const rect = canvas.getBoundingClientRect();\n      const offsetX = event.clientX - rect.left;\n      const offsetY = event.clientY - rect.top;\n      const id = elements.length;\n      if (tool === \"pencil\") {\n        const newElement = {\n          id,\n          type: \"pencil\",\n          points: [{\n            x: offsetX,\n            y: offsetY\n          }]\n        };\n        setElements([...elements, newElement]);\n      }\n    };\n    const handleMouseMove = event => {\n      if (!canvas) return;\n      const rect = canvas.getBoundingClientRect();\n      const offsetX = event.clientX - rect.left;\n      const offsetY = event.clientY - rect.top;\n      if (tool === \"pencil\" && elements.length > 0) {\n        const index = elements.length - 1;\n        const updatedElements = [...elements];\n        updatedElements[index].points.push({\n          x: offsetX,\n          y: offsetY\n        });\n        setElements(updatedElements);\n      }\n    };\n    const handleMouseUp = () => {\n      // Handle mouse up event\n      // You can add functionality here if needed\n    };\n    canvas.addEventListener(\"mousedown\", handleMouseDown);\n    canvas.addEventListener(\"mousemove\", handleMouseMove);\n    canvas.addEventListener(\"mouseup\", handleMouseUp);\n    return () => {\n      canvas.removeEventListener(\"mousedown\", handleMouseDown);\n      canvas.removeEventListener(\"mousemove\", handleMouseMove);\n      canvas.removeEventListener(\"mouseup\", handleMouseUp);\n    };\n  }, [elements, tool]);\n  useEffect(() => {\n    // Drawing logic here\n    // Update canvas based on elements state\n  }, [elements]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"canvas\", {\n      ref: canvasRef,\n      width: 800,\n      height: 600,\n      style: {\n        border: \"1px solid black\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Tool:\", /*#__PURE__*/_jsxDEV(\"select\", {\n          value: tool,\n          onChange: e => setTool(e.target.value),\n          children: /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"pencil\",\n            children: \"Pencil\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 5\n  }, this);\n};\n_s(WhiteboardRoom, \"6yIH9idOebYYxvtP2mfGhJQaoHY=\");\n_c = WhiteboardRoom;\nexport default WhiteboardRoom;\nvar _c;\n$RefreshReg$(_c, \"WhiteboardRoom\");","map":{"version":3,"names":["React","useEffect","useRef","useState","rough","getStroke","jsxDEV","_jsxDEV","WhiteboardRoom","_s","canvasRef","elements","setElements","tool","setTool","canvas","current","context","getContext","generator","roughCanvas","handleMouseDown","event","rect","getBoundingClientRect","offsetX","clientX","left","offsetY","clientY","top","id","length","newElement","type","points","x","y","handleMouseMove","index","updatedElements","push","handleMouseUp","addEventListener","removeEventListener","children","ref","width","height","style","border","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","e","target","_c","$RefreshReg$"],"sources":["D:/full stack mern,mean,java/Whiteboard Application/whiteboard-frontend/src/pages/canvas/WhiteboardRoom.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\r\nimport rough from \"roughjs/bundled/rough.esm\";\r\nimport getStroke from \"perfect-freehand\";\r\n\r\nconst WhiteboardRoom = () => {\r\n  const canvasRef = useRef(null);\r\n  const [elements, setElements] = useState([]);\r\n  const [tool, setTool] = useState(\"pencil\");\r\n\r\n  useEffect(() => {\r\n    const canvas = canvasRef.current;\r\n    const context = canvas.getContext(\"2d\");\r\n    const generator = rough.generator();\r\n    const roughCanvas = rough.canvas(canvas);\r\n\r\n    const handleMouseDown = (event) => {\r\n      if (!canvas) return;\r\n      const rect = canvas.getBoundingClientRect();\r\n      const offsetX = event.clientX - rect.left;\r\n      const offsetY = event.clientY - rect.top;\r\n\r\n      const id = elements.length;\r\n      if (tool === \"pencil\") {\r\n        const newElement = {\r\n          id,\r\n          type: \"pencil\",\r\n          points: [{ x: offsetX, y: offsetY }],\r\n        };\r\n        setElements([...elements, newElement]);\r\n      }\r\n    };\r\n\r\n    const handleMouseMove = (event) => {\r\n      if (!canvas) return;\r\n      const rect = canvas.getBoundingClientRect();\r\n      const offsetX = event.clientX - rect.left;\r\n      const offsetY = event.clientY - rect.top;\r\n\r\n      if (tool === \"pencil\" && elements.length > 0) {\r\n        const index = elements.length - 1;\r\n        const updatedElements = [...elements];\r\n        updatedElements[index].points.push({ x: offsetX, y: offsetY });\r\n        setElements(updatedElements);\r\n      }\r\n    };\r\n\r\n    const handleMouseUp = () => {\r\n      // Handle mouse up event\r\n      // You can add functionality here if needed\r\n    };\r\n\r\n    canvas.addEventListener(\"mousedown\", handleMouseDown);\r\n    canvas.addEventListener(\"mousemove\", handleMouseMove);\r\n    canvas.addEventListener(\"mouseup\", handleMouseUp);\r\n\r\n    return () => {\r\n      canvas.removeEventListener(\"mousedown\", handleMouseDown);\r\n      canvas.removeEventListener(\"mousemove\", handleMouseMove);\r\n      canvas.removeEventListener(\"mouseup\", handleMouseUp);\r\n    };\r\n  }, [elements, tool]);\r\n\r\n  useEffect(() => {\r\n    // Drawing logic here\r\n    // Update canvas based on elements state\r\n  }, [elements]);\r\n\r\n  return (\r\n    <div>\r\n      <canvas\r\n        ref={canvasRef}\r\n        width={800}\r\n        height={600}\r\n        style={{ border: \"1px solid black\" }}\r\n      ></canvas>\r\n      <div>\r\n        <label>\r\n          Tool:\r\n          <select value={tool} onChange={(e) => setTool(e.target.value)}>\r\n            <option value=\"pencil\">Pencil</option>\r\n            {/* Add more options for different tools */}\r\n          </select>\r\n        </label>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WhiteboardRoom;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}